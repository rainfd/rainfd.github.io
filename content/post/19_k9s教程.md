---
title: "19_k9s教程"
date: 2022-07-18T17:09:28+08:00
draft: true
---

## 简介

K9s是一个基于终端的K8s UI管理工具。只需要一个二进制文件，就可以在任意的终端上对K8s进行管理。基础的操作逻辑是基于Vim的，熟悉Vim的同学几分钟就能上手。

## 安装

K9s支持Linux，macOS和Windows平台。推荐到官方[release](https://github.com/derailed/k9s/releases)界面直接下载二进制文件。

K9s与kubectl一致，默认使用环境变量KUBECONFIG指定的K8s配置。当然也可以指定kubeconfig`k9s --kubeconfig=xx`。

## 基础操作

### 浏览任意资源



详情/编辑/

### 进入container 

### 日志

### 编辑



## 命令

| 动作           | 命令               | 备注 |      |
| -------------- | ------------------ | ---- | ---- |
| 快捷键记录界面 | `?` |      |      |
| 显示集群所有的资源和它们的缩写 | `ctrl-a` or `:alias` | 例如service的缩写是svc |      |
| 退出 | `:q` or `ctrl-c` |      |      |
| 用资源名或者缩写来浏览某一类资源 | `:`po⏎ | 接受单数、复数、缩写或者别名。例如po,pod,pods,v1/pods |      |
| 在指定的ns里面浏览资源 | `:po namespace⏎ |  |      |
| 过滤某种资源 | `/`filter⏎ | 支持Regex2标准，例如`fred|blee`过滤名字是fred或者是blee的资源 |      |
| 逆过滤器 | `/`!filter | 去除所有匹配的资源。不支持日志过滤 | |
| 根据labels过滤资源 | `/`-l label-selector⏎ |  | |
| 模糊匹配过滤 | `/`-f filter |  | |
| 退出 浏览/命令/过滤 模式 | `<esc>` |  | |
| 常用快捷键，describe, view,edit,view logs,... | `d`,`v`,`e`,`l`,... |  | |
| 切换集群上下文 | `:`ctx⏎ |  | |
| 切换集群上下文 | `:`ctx context-name⏎ |  | |
| 切换namespace | `:`ns⏎ |  | |
| 浏览所有保存的资源 | `:`screendump or sd⏎ |  | |
| 删除资源(TAB和ENTER来确认) | `ctrl-d` |  | |
| 终止一种资源(不会有确认的对话框) | `ctrl-k` |  | |
| 扩宽显示栏 | `ctrl-w` | 等价于`kubectl ... -o wide` | |
| 浏览在错误状态的资源 | `ctrl-z` |  | |
| 增强界面 | `:`pulses or pu⏎ | 用命令行实现类似GUI的监控界面 | |
| XRay界面 | `:`xray RESOURCE [NAMESPACE]⏎ | 用目录树的结构来展示相关资源 | |
| Popeye界面 | `:`popeye or pop⏎ | Popeye是一个k8s清理工具，帮助找出有潜在问题的资源和配置，详见https://popeyecli.io/ | |



## 有趣的功能

